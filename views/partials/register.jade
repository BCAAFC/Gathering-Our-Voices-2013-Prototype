form.container-fluid(ng-controller='regCtl', ng-submit='submit()', autocomplete="off")
  .row-fluid
    .span1
    .span8.form-horizontal.well
      h1 Primary Contact  
      p For each registered group there must be a primary contact. This person will be our main connection from the group.
      fieldset
        legend Basic Information
        p This is information you'll need to fill out for every guest (Don't worry, we'll give you space below.) Even if you're not coming, we need this from you for our records.
        // Primary Name Field
        .control-group
          label.control-label Name*
          .controls
            input.focused(type='text', name='primaryContact.name', ng-model='primaryContact.name', required, placeholder='Enter your name', data-content="Just your name, nothing special here.")
        // Primary Status Field
        .control-group
          label.control-label Status*
          .controls
            select(name='primaryContact.status', ng-model='primaryContact.status', required, data-content="<strong>Youth:</strong> Special Restrictions. <br> <strong>Young Adult:</strong> No Special Restrictions <br> <strong>Chaperone:</strong> Super Important. <br> <strong>Not Attending:</strong> Sad to hear it! Thanks for helping the kids!")
              option Youth (14-17 yrs)
              option Young Adult (18-24 yrs)
              option Chaperone (21+ yrs)
              option Not Attending

        // Primary Gender Field
        .control-group
          label.control-label Gender*
          .controls
            select(required, ng-model="primaryContact.gender", name="primaryContact.gender")
              option Male
              option Female
              option Other
        
        // Primary Birth Date Field
        .control-group
          label.control-label Birth Date*
          .controls
            input.focused(required, ng-model="primaryContact.birthDate", name="primaryContact.birthDate", placeholder='dd/mm/yyyy', data-content="Please format with dd/mm/yyyy, or click the triangle and use our interactive date picker.", type='date')

         // Primary Phone Field
        .control-group
          label.control-label Phone #
          .controls
            input.focused(type='tel', name='primaryContact.phone', ng-model='primaryContact.phone', maxlength='10', placeholder='Enter your phone number', required, data-content="(123) 123-1234 -> 1231231234 <br> If you're coming to the conference you might want to consider using your cell number, that way we can get in touch with you during the event.")

        // Primary Email Field
        .control-group
          label.control-label Email
          .controls
            input.focused(type='email', name='primaryContact.email', ng-model='primaryContact.email', placeholder='Enter your Email', required)
              
      // Extended Information        
      fieldset
        legend Extended Information
        p This is stuff we only ask you, the primary contact. You won't need to fill this out for anyone else in the group.
        // Affiliation Field
        .control-group
          label.control-label Affiliation*
          .controls
            input.focused(type='text', name='primaryContact.extendedInfo.affiliation', ng-model='primaryContact.extendedInfo.affiliation', required, placeholder='Enter your affiliation')
        // Address Field
        .control-group
          label.control-label Address*
          .controls
            input.focused(type='text', name='primaryContact.extendedInfo.address', ng-model='primaryContact.extendedInfo.address', required, placeholder='Enter your mailing address')
        // City Field
        .control-group
          label.control-label City*
          .controls
            input#city.focused(type='text', name='primaryContact.extendedInfo.city', ng-model='primaryContact.extendedInfo.city', required, placeholder='Enter your city', ui-jq="typeahead", ui-options='{source: ["Abbotsford","Armstrong","Burnaby","Campbell River","Castlegar","Chilliwack","Colwood","Coquitlam","Courtenay","Cranbrook","Dawson Creek","Duncan","Enderby","Fernie","Fort St. John","Grand Forks","Greenwood","Kamloops","Kelowna","Kimberley","Kitimat","Langford","Langley","Merritt","Nanaimo","Nelson","New Westminster","North Vancouver","Parksville","Penticton","Pitt Meadows","Port Alberni","Port Coquitlam","Port Moody","Powell River","Prince George","Prince Rupert","Quesnel","Revelstoke","Richmond","Rossland","Salmon Arm","Surrey","Terrace","Trail","Vancouver","Vernon","Victoria","White Rock","Williams Lake"]}')
        // Province Field
        .control-group
          label.control-label Province*
          .controls
            input#province.focused(type='text', name='primaryContact.extendedInfo.province', ng-model='primaryContact.extendedInfo.province', required, placeholder='Enter your Province', ui-jq='typeahead', ui-options='{source:["Alberta", "British Columbia", "Manitoba", "New Brunswick", "Newfoundland & Labrador", "Northwest Territories", "Nova Scotia", "Nunavut", "Ontario", "Prince Edward Island", "Quebec", "Saskatchewan", "Yukon"]}')
        // Postal Code field
        .control-group
          label.control-label Postal Code*
          .controls
            input.focused(type='text', name='primaryContact.extendedInfo.postalCode', ng-model='primaryContact.extendedInfo.postalCode', required, placeholder='Enter your Postal Code', maxlength=6, data-content="Please input your postal code in the format A1B2C3, no spaces.")
        // Fax Number Field
        .control-group
          label.control-label Fax
          .controls
            input.focused(type='tel', name='primaryContact.extendedInfo.fax', ng-model='primaryContact.extendedInfo.faxNumber', placeholder="Enter your fax number.", maxlength=10, data-content="(123) 123-1234 -> 1231231234")

      fieldset
        legend Emergency Information
        p In the event of an unfortunate happenstance, we'll use this information to help us provide the best assistance possible.
        // Emergency Contact Name
        .control-group
          label.control-label Emergency Contact name*
          .controls
            input.focused(type='text', name='primaryContact.emergencyInfo.name', required, ng-model='primaryContact.emergencyInfo.name', placeholder="Enter your emergency contact's name.", data-content="It's advisable to choose someone who will be able to advise us on medical conditions, doctors, or other vital information.")
        // Emergency Contact Relation      
        .control-group
          label.control-label Emergency Contact Relation
          .controls
            input.focused(type='text', name='primaryContact.emergencyInfo.relation', ng-model='primaryContact.emergencyInfo.relation', placeholder="Enter your Emergency Contact's relationship with you.", data-content="For example, 'Mother' or 'Babysitter'")
        // Emergency Contact Phone #
        .control-group
          label.control-label Emergency Contact Phone #*
          .controls
            input.focused(type='tel', name='primaryContact.emergencyInfo.phone', ng-model='primaryContact.emergencyInfo.phone', required, placeholder="Enter your emergency contact's phone number.", data-content="Generally it's a good idea to choose a cell phone number.")
        // Registrant Medical number
        .control-group
          label.control-label Registrant Medical number*
          .controls
            input.focused(type='number', name='primaryContact.emergencyInfo.medNum', ng-model='primaryContact.emergencyInfo.medNum', required, placeholder="Enter your Medical number.", maxlength=10, data-content="This should be your 10-digit CareCard number.")
        // Allergies
        .control-group
          label.control-label Allergies
          .controls
            input.focused(type='text', name='primaryContact.emergencyInfo.allergies', ng-model='primaryContact.emergencyInfo.allergies', required, placeholder='Enter your allergies here, comma seperated.', data-content="Please enter a list of allergies, if you have multiple allergies please comma seperate them. <br> <strong>Example: </strong> Lime, Coconut, Lime in Coconut")
              
              
  // Youth Controllers     
  .row-fluid    
    .span1
    .well.span8.form-horizontal
      h1 Youth Attendees
      .tabbable.tabs-left
        .tab-pane(ng-repeat="youth in youthList", id="youth{{youth.number}}", title="{{youth.name}}", value="{{youth.name}}")
          fieldset
            legend Info for {{youth.name}}
            input(type='text', ng-model='youth.name')
      .btn.btn-info(ng-click="addYouth()") Add a Youth
      p You have <strong>{{ youthList.length }}</strong> youth attending.
 
  // Chaperone Controllers     
  .row-fluid    
    .span1
    .well.span8.form-horizontal
      h1 Chaperone Attendees
      .tabbable.tabs-left
        .tab-pane(ng-repeat="chaperone in chaperoneList", id="chaperone{{chaperone.number}}", title="{{chaperone.name}}", value="{{chaperone.name}}")
          fieldset
            legend Info for {{chaperone.name}}
            input(type='text', ng-model='chaperone.name')
      .btn.btn-info(ng-click="addChaperone()") Add a Chaperone
      p You have <strong>{{ chaperoneList.length }}</strong> chaperones attending.

  // Young Adult Controllers     
  .row-fluid    
    .span1
    .well.span8.form-horizontal
      h1 Young Adult Attendees
      .tabbable.tabs-left
        .tab-pane(ng-repeat="youngAdult in youngAdultList", id="youngAdult{{youngAdult.number}}", title="{{youngAdult.name}}", value="{{youngAdult.name}}")
          fieldset
            legend Info for {{youngAdult.name}}
            input(type='text', ng-model='youngAdult.name')
      .btn.btn-info(ng-click="addYoungAdult()") Add a Young Adult
      p You have <strong>{{ youngAdultList.length }}</strong> young adults attending.



  .row-fluid
    .span1
    .well.span8.form-horizontal
      input.btn-large.btn-primary(type='submit', value='Register',ng-disabled="isClean() || myForm.$invalid")
script(type='text/javascript')
  $(function () {
    $("input").popover(
      {
        offset: 5,
        placement: 'right',
        trigger: 'focus',
        title: 'Information'
      }
    );
    $("select").popover(
    {
      offset: 5,
      placement: 'right',
      trigger: 'focus',
      title: 'Information'
    });
    $("#city").change(function() {
      
    });
  });
